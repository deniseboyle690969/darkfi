<!--
 This file is part of DarkFi (https://dark.fi)

 Copyright (C) 2020-2024 Dyne.org foundation

 This program is free software: you can redistribute it and/or modify
 it under the terms of the GNU Affero General Public License as
 published by the Free Software Foundation, either version 3 of the
 License, or (at your option) any later version.

 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU Affero General Public License for more details.

 You should have received a copy of the GNU Affero General Public License
 along with this program.  If not, see <https://www.gnu.org/licenses/>.
-->

{% extends "base.html" %}
{% block title %}Explorer{% endblock %}

{% block content %}

    <div class="container-fluid pl-5 pb-5 pr-5 title-block" style="margin-top:90px;">
        <h1 class="display-4 text-white border-l3" style="font-family:'Weissrundgotisch';line-height:.9em;">Explore</h1>
        <div class="search-container">
            <form action="/search">
                <input type="text" placeholder="Search for a block or transaction.." name="search_hash">
            </form>
      </div>
    </div>

    <div class="row m-0 border-secondary border-top">
        <div class="text-white mb-0 border-bottom border-secondary lead-text" style="width:100%;">
            <h2 class="display-8 text-white border-l3" style="font-family:'Weissrundgotisch';line-height:.9em;">Latest Blocks</h2>
           <table style="width:100%;">
                <tr>
                    <th>Height</th>
                    <th>Hash</th>
                    <th>Timestamp</th>
                </tr>
                {% for block in blocks %}
                    <tr>
                        <td>{{ block[3] }}</td>
                        <td><a href="block/{{ block[0] }}">{{ block[0] }}</a></td>
                        <td>{{ block[4] }}</td>
                    </tr>
                {% endfor %}
            </table>
        </div>
    </div>

    <div class="row m-0 border-secondary border-top">
        <div class="text-white mb-0 border-bottom border-secondary lead-text" style="width:100%;">
            <h2 class="display-8 text-white border-l3" style="font-family:'Weissrundgotisch';line-height:.9em;">Basic Statistics</h2>
            <ul>
                <li>Height: {{ basic_stats[0] }}</li>
                <li>Epoch: {{ basic_stats[1] }}</li>
                <li>Last block: <a href="block/{{ basic_stats[2] }}">{{ basic_stats[2] }}</a></li>
                <li>Total blocks: {{ basic_stats[3] }}</li>
                <li>Total transactions: {{ basic_stats[4] }}</li>
            </ul>
        </div>
    </div>

<div class="row m-0 border-secondary border-top">
    <div class="text-white mb-0 border-bottom border-secondary lead-text" style="width:100%;">
        <h2 class="display-8 text-white border-l3" style="font-family:'Weissrundgotisch';line-height:.9em;">Total Network Gas Consumption Statistics</h2>

        <strong>Total Gas</strong>
        <ul>
            <li>Average: {{ metric_stats[0] }}</li>
            <li>Minimum: {{ metric_stats[1] }}</li>
            <li>Maximum: {{ metric_stats[2] }}</li>
        </ul>

        <strong>WASM Gas</strong>
        <ul>
            <li>Average: {{ metric_stats[3] }}</li>
            <li>Minimum: {{ metric_stats[4] }}</li>
            <li>Maximum: {{ metric_stats[5] }}</li>
        </ul>

        <strong>ZK Circuits Gas</strong>
        <ul>
            <li>Average: {{ metric_stats[6] }}</li>
            <li>Minimum: {{ metric_stats[7] }}</li>
            <li>Maximum: {{ metric_stats[8] }}</li>
        </ul>

        <strong>Signatures Gas</strong>
        <ul>
            <li>Average: {{ metric_stats[9] }}</li>
            <li>Minimum: {{ metric_stats[10] }}</li>
            <li>Maximum: {{ metric_stats[11] }}</li>
        </ul>

        <strong>Deployments Gas</strong>
        <ul>
            <li>Average: {{ metric_stats[12] }}</li>
            <li>Minimum: {{ metric_stats[13] }}</li>
            <li>Maximum: {{ metric_stats[14] }}</li>
        </ul>
</div>
    
{% endblock %}

